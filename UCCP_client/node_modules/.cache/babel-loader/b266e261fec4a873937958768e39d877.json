{"ast":null,"code":"import _regeneratorRuntime from\"C:/Project/UCCP_Membership/UCCPSBD/UCCP_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Project/UCCP_Membership/UCCPSBD/UCCP_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Project/UCCP_Membership/UCCPSBD/UCCP_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Project/UCCP_Membership/UCCPSBD/UCCP_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Project/UCCP_Membership/UCCPSBD/UCCP_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Project/UCCP_Membership/UCCPSBD/UCCP_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"C:/Project/UCCP_Membership/UCCPSBD/UCCP_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import React,{Component}from'react';import ReactTable from'react-table-6';import api from'../../api';import styled from'styled-components';import'react-table-6/react-table.css';import{jsx as _jsx}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    padding:130px 50px 50px 50px; \\n    position: relative;\\n\"])));var GetOrgMembers=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    color: #ef9b0f;\\n    cursor: pointer;\\n\"])));var GetOrganizationMembers=/*#__PURE__*/function(_Component){_inherits(GetOrganizationMembers,_Component);var _super=_createSuper(GetOrganizationMembers);function GetOrganizationMembers(){var _this;_classCallCheck(this,GetOrganizationMembers);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.getMembersByOrg=function(event){event.preventDefault();window.location.href=\"/member/orgmembers/\".concat(_this.props.id);};return _this;}_createClass(GetOrganizationMembers,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(GetOrgMembers,{onClick:this.getMembersByOrg,children:this.props.accessor});}}]);return GetOrganizationMembers;}(Component);var OrganizationsList=/*#__PURE__*/function(_Component2){_inherits(OrganizationsList,_Component2);var _super2=_createSuper(OrganizationsList);function OrganizationsList(props){var _this2;_classCallCheck(this,OrganizationsList);_this2=_super2.call(this,props);_this2.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this2.setState({isLoading:true});_context.next=3;return api.getAllOrganizations().then(function(organizations){_this2.setState({organizations:organizations.data.data,isLoading:false});});case 3:case\"end\":return _context.stop();}}},_callee);}));_this2.state={organizations:[],columns:[],isLoading:false};return _this2;}_createClass(OrganizationsList,[{key:\"render\",value:function render(){var _this$state=this.state,organizations=_this$state.organizations,isLoading=_this$state.isLoading;var columns=[// {\n//     Header: 'ID',\n//     accessor: '_id',\n//     filterable: true,\n// },\n{Header:'Abbreviation',accessor:'',Cell:function Cell(props){return/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(GetOrganizationMembers,{id:props.original.organizationId,accessor:props.original.abbreviation})});},headerStyle:{},// filterable: true,\nwidth:'150'},{Header:'Name',accessor:'name',// filterable: true,\nwidth:'30%'}];var showTable=true;if(!organizations.length){showTable=false;}return/*#__PURE__*/_jsx(Wrapper,{children:showTable&&/*#__PURE__*/_jsx(ReactTable,{data:organizations,columns:columns,loading:isLoading,defaultPageSize:10,showPageSizeOptions:true,minRows:0,filterable:false,showFilters:false,className:\"table table-bordered\",getTheadProps:function getTheadProps(){return{className:'rt-thead -header bg-dark text-light'// className: 'rt-thead -header bg-secondary text-light'\n};},getTdProps:function getTdProps(){return{style:{textAlign:'center',fontSize:'12px'}};},getTheadThProps:function getTheadThProps(){return{style:{textAlign:'center',fontSize:'13px'}};},getTheadFilterProps:function getTheadFilterProps(){return{style:{textAlign:'center',fontSize:'12px'}};},getPaginationProps:function getPaginationProps(){return{style:{textAlign:'center',fontSize:'12px'}};}})});}}]);return OrganizationsList;}(Component);export default OrganizationsList;","map":{"version":3,"sources":["C:/Project/UCCP_Membership/UCCPSBD/UCCP_client/src/pages/organization/OrganizationsList.jsx"],"names":["React","Component","ReactTable","api","styled","Wrapper","div","GetOrgMembers","GetOrganizationMembers","getMembersByOrg","event","preventDefault","window","location","href","props","id","accessor","OrganizationsList","componentDidMount","setState","isLoading","getAllOrganizations","then","organizations","data","state","columns","Header","Cell","original","organizationId","abbreviation","headerStyle","width","showTable","length","className","style","textAlign","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport ReactTable from 'react-table-6'\r\nimport api from '../../api'\r\n\r\nimport styled from 'styled-components'\r\n\r\nimport 'react-table-6/react-table.css'\r\n\r\nconst Wrapper = styled.div`\r\n    padding:130px 50px 50px 50px; \r\n    position: relative;\r\n`\r\n\r\nconst GetOrgMembers = styled.div`\r\n    color: #ef9b0f;\r\n    cursor: pointer;\r\n`\r\n\r\nclass GetOrganizationMembers extends Component {\r\n    getMembersByOrg = event => {\r\n        event.preventDefault()\r\n\r\n        window.location.href = `/member/orgmembers/${this.props.id}`\r\n    }\r\n\r\n    render() {\r\n        return <GetOrgMembers onClick={this.getMembersByOrg}>{this.props.accessor}</GetOrgMembers>\r\n    }\r\n}\r\n\r\nclass OrganizationsList extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            organizations: [],\r\n            columns: [],\r\n            isLoading: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        this.setState({ isLoading: true })\r\n\r\n        await api.getAllOrganizations().then(organizations => {\r\n            this.setState({\r\n                organizations: organizations.data.data,\r\n                isLoading: false,\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { organizations, isLoading } = this.state\r\n        const columns = [\r\n            // {\r\n            //     Header: 'ID',\r\n            //     accessor: '_id',\r\n            //     filterable: true,\r\n            // },\r\n            {\r\n                Header: 'Abbreviation',\r\n                accessor: '',\r\n                Cell: function(props){\r\n                    return (\r\n                        <span>\r\n                            <GetOrganizationMembers id={props.original.organizationId} accessor={props.original.abbreviation}/>\r\n                        </span>\r\n                    )\r\n                },\r\n                headerStyle: {\r\n                    },\r\n                // filterable: true,\r\n                width: '150'\r\n            },\r\n            {\r\n                Header: 'Name',\r\n                accessor: 'name',\r\n                // filterable: true,\r\n                width: '30%'\r\n            },\r\n        ]\r\n\r\n        let showTable = true\r\n        if (!organizations.length) {\r\n            showTable = false\r\n        }\r\n\r\n        return (\r\n            <Wrapper>\r\n                {showTable && (\r\n                    <ReactTable\r\n                        data={organizations}\r\n                        columns={columns}\r\n                        loading={isLoading}\r\n                        defaultPageSize={10}\r\n                        showPageSizeOptions={true}\r\n                        minRows={0}\r\n                        filterable={false}\r\n                        showFilters={false}\r\n                        className=\"table table-bordered\"\r\n                        getTheadProps={() => ({\r\n                            className: 'rt-thead -header bg-dark text-light'\r\n                            // className: 'rt-thead -header bg-secondary text-light'\r\n                            })}\r\n                        getTdProps={() => ({\r\n                            style: {\r\n                            textAlign: 'center',\r\n                            fontSize: '12px',\r\n                            }\r\n                            })}\r\n                            \r\n                        getTheadThProps={() => ({\r\n                            style: {\r\n                            textAlign: 'center',\r\n                            fontSize: '13px'\r\n                            }\r\n                            })}\r\n                        getTheadFilterProps={() => ({\r\n                            style: {\r\n                            textAlign: 'center',\r\n                            fontSize: '12px',\r\n                            }\r\n                            })}\r\n                        getPaginationProps={() => ({\r\n                            style: {\r\n                            textAlign: 'center',\r\n                            fontSize: '12px',\r\n                            }\r\n                            })}\r\n                    />\r\n                )}\r\n            </Wrapper>\r\n        )\r\n    }\r\n}\r\n\r\nexport default OrganizationsList"]},"metadata":{},"sourceType":"module"}