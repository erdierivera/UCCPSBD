{"ast":null,"code":"import _regeneratorRuntime from\"C:/Project/UCCPSBDMembership/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Project/UCCPSBDMembership/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Project/UCCPSBDMembership/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Project/UCCPSBDMembership/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Project/UCCPSBDMembership/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Project/UCCPSBDMembership/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"C:/Project/UCCPSBDMembership/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React,{Component}from'react';import ReactTable from'react-table-6';import api from'../api';import styled from'styled-components';import'react-table-6/react-table.css';import{jsx as _jsx}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    padding: 40px 40px 40px 40px;\\n\"])));var Update=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    color: #ef9b0f;\\n    cursor: pointer;\\n\"])));var Delete=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    color: #ff0000;\\n    cursor: pointer;\\n\"])));var UpdateMember=/*#__PURE__*/function(_Component){_inherits(UpdateMember,_Component);var _super=_createSuper(UpdateMember);function UpdateMember(){var _this;_classCallCheck(this,UpdateMember);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.updateUser=function(event){event.preventDefault();window.location.href=\"/members/update/\".concat(_this.props.id);};return _this;}_createClass(UpdateMember,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Update,{onClick:this.updateUser,children:\"Update\"});}}]);return UpdateMember;}(Component);var DeleteMember=/*#__PURE__*/function(_Component2){_inherits(DeleteMember,_Component2);var _super2=_createSuper(DeleteMember);function DeleteMember(){var _this2;_classCallCheck(this,DeleteMember);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this2=_super2.call.apply(_super2,[this].concat(args));_this2.deleteUser=function(event){event.preventDefault();if(window.confirm(\"Do you want to delete the member \".concat(_this2.prop.id,\" permanently?\"))){api.deleteMemberById(_this2.props.id);window.location.reload();}};return _this2;}_createClass(DeleteMember,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Delete,{onclick:this.deleteUser,children:\"Delete\"});}}]);return DeleteMember;}(Component);var MembersList=/*#__PURE__*/function(_Component3){_inherits(MembersList,_Component3);var _super3=_createSuper(MembersList);function MembersList(props){var _this3;_classCallCheck(this,MembersList);_this3=_super3.call(this,props);_this3.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this3.setState({isLoading:true});_context.next=3;return api.getAllMembers().then(function(members){_this3.setState({members:members.data.data,isLoading:false});});case 3:case\"end\":return _context.stop();}}},_callee);}));_this3.state={members:[],columns:[],isLoading:false};return _this3;}_createClass(MembersList,[{key:\"render\",value:function render(){var _this$state=this.state,members=_this$state.members,isLoading=_this$state.isLoading;console.log('TCL: MembersList -> render -> members',members);var columns=[{Header:'ID',accessor:'_id',filterable:true},{Header:'Firstname',accessor:'firstName',filterable:true},{Header:'Middlename',accessor:'middleName',filterable:true},{Header:'Lastname',accessor:'lastName',filterable:true},{Header:'',accessor:'',Cell:function Cell(props){return/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(DeleteMember,{id:props.original._id})});}},{Header:'',accessor:'',Cell:function Cell(props){return/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(UpdateMember,{id:props.origina._id})});}}];var showTable=true;if(!members.length){showTable=false;}return/*#__PURE__*/_jsx(Wrapper,{children:showTable&&/*#__PURE__*/_jsx(ReactTable,{data:members,columns:columns,loading:isLoading,defaultPageSize:10,showPageSizeOptions:true,minRows:0})});}}]);return MembersList;}(Component);export default MembersList;","map":{"version":3,"sources":["C:/Project/UCCPSBDMembership/client/src/pages/MembersList.jsx"],"names":["React","Component","ReactTable","api","styled","Wrapper","div","Update","Delete","UpdateMember","updateUser","event","preventDefault","window","location","href","props","id","DeleteMember","deleteUser","confirm","prop","deleteMemberById","reload","MembersList","componentDidMount","setState","isLoading","getAllMembers","then","members","data","state","columns","console","log","Header","accessor","filterable","Cell","original","_id","origina","showTable","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport ReactTable from 'react-table-6'\r\nimport api from '../api'\r\n\r\nimport styled from 'styled-components'\r\n\r\nimport 'react-table-6/react-table.css'\r\n\r\nconst Wrapper = styled.div`\r\n    padding: 40px 40px 40px 40px;\r\n`\r\n\r\nconst Update = styled.div`\r\n    color: #ef9b0f;\r\n    cursor: pointer;\r\n`\r\n\r\nconst Delete = styled.div`\r\n    color: #ff0000;\r\n    cursor: pointer;\r\n`\r\n\r\nclass UpdateMember extends Component {\r\n    updateUser = event => {\r\n        event.preventDefault()\r\n\r\n        window.location.href = `/members/update/${this.props.id}`\r\n    }\r\n\r\n    render() {\r\n        return <Update onClick={this.updateUser}>Update</Update>\r\n    }\r\n}\r\n\r\nclass DeleteMember extends Component {\r\n    deleteUser = event => {\r\n        event.preventDefault()\r\n\r\n        if(\r\n            window.confirm(`Do you want to delete the member ${this.prop.id} permanently?`,)\r\n        )\r\n        {\r\n            api.deleteMemberById(this.props.id)\r\n            window.location.reload()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <Delete onclick={this.deleteUser}>Delete</Delete>\r\n    }\r\n}\r\n\r\nclass MembersList extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            members: [],\r\n            columns: [],\r\n            isLoading: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        this.setState({ isLoading: true })\r\n\r\n        await api.getAllMembers().then(members => {\r\n            this.setState({\r\n                members: members.data.data,\r\n                isLoading: false,\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { members, isLoading } = this.state\r\n        console.log('TCL: MembersList -> render -> members', members)\r\n\r\n        const columns = [\r\n            {\r\n                Header: 'ID',\r\n                accessor: '_id',\r\n                filterable: true,\r\n            },\r\n            {\r\n                Header: 'Firstname',\r\n                accessor: 'firstName',\r\n                filterable: true,\r\n            },\r\n            {\r\n                Header: 'Middlename',\r\n                accessor: 'middleName',\r\n                filterable: true,\r\n            },\r\n            {\r\n                Header: 'Lastname',\r\n                accessor: 'lastName',\r\n                filterable: true,\r\n            },\r\n            {\r\n                Header: '',\r\n                accessor: '',\r\n                Cell: function(props){\r\n                    return (\r\n                        <span>\r\n                            <DeleteMember id={props.original._id} />\r\n                        </span>\r\n                    )\r\n                }\r\n            },\r\n            {\r\n                Header: '',\r\n                accessor: '',\r\n                Cell: function(props){\r\n                    return (\r\n                        <span>\r\n                            <UpdateMember id={props.origina._id} />\r\n                        </span>\r\n                    )\r\n                }\r\n            }\r\n        ]\r\n\r\n        let showTable = true\r\n        if (!members.length) {\r\n            showTable = false\r\n        }\r\n\r\n        return (\r\n            <Wrapper>\r\n                {showTable && (\r\n                    <ReactTable\r\n                        data={members}\r\n                        columns={columns}\r\n                        loading={isLoading}\r\n                        defaultPageSize={10}\r\n                        showPageSizeOptions={true}\r\n                        minRows={0}\r\n                    />\r\n                )}\r\n            </Wrapper>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MembersList"]},"metadata":{},"sourceType":"module"}